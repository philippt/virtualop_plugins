
define service {
        use                     generic-service,srv-pnp
        host_name               <%= machine.name %>
        service_description     mysql threads connected
        check_command           check_mysql_health!<%= mysql_target %>!<%= config_string('mysql_check_user') %>!<%= config_string('mysql_check_password') %>!threads-connected
}

define service {
        use                     generic-service,srv-pnp
        host_name               <%= machine.name %>
        service_description     mysql index usage
        check_command           check_mysql_health2!<%= mysql_target %>!<%= config_string('mysql_check_user') %>!<%= config_string('mysql_check_password') %>!index-usage!80:!70:
}


define service {
        use                     generic-service,srv-pnp
        host_name               <%= machine.name %>
        service_description     mysql query cache hitrate
        check_command           check_mysql_health!<%= mysql_target %>!<%= config_string('mysql_check_user') %>!<%= config_string('mysql_check_password') %>!qcache-hitrate
}

define service {
        use                     generic-service,srv-pnp
        host_name               <%= machine.name %>
        service_description     mysql query lowmem prunes
        check_command           check_mysql_health!<%= mysql_target %>!<%= config_string('mysql_check_user') %>!<%= config_string('mysql_check_password') %>!qcache-lowmem-prunes
}

define service {
        use                     generic-service,srv-pnp
        host_name               <%= machine.name %>
        service_description     mysql slow-queries
        check_command           check_mysql_health!<%= mysql_target %>!<%= config_string('mysql_check_user') %>!<%= config_string('mysql_check_password') %>!slow-queries
}